{"ast":null,"code":"import _slicedToArray from\"/Users/sebastianacosta/Bootcamp/giffy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{ErrorMessage,Field,Form,Formik}from\"formik\";import{useState}from\"react\";import{useLocation}from\"wouter\";import useUser from\"../../hooks/useUser\";import registerService from\"../../services/registerService\";import\"./register.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),registered=_useState2[0],setRegistered=_useState2[1];var _useLocation=useLocation(),_useLocation2=_slicedToArray(_useLocation,2),navigate=_useLocation2[1];var _useUser=useUser(),login=_useUser.login;return/*#__PURE__*/_jsxs(\"div\",{className:\"RegisterPage\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Register  \"}),/*#__PURE__*/_jsx(Formik,{initialValues:{username:'',password:\"\"},validate:function validate(values){var errors={};if(values.username===''){errors.username=\"Required username\";}if(values.password===''){errors.password=\"Required password\";}return errors;},onSubmit:function onSubmit(values,_ref){var setFieldError=_ref.setFieldError;return registerService(values).then(function(){setRegistered(true);login({username:values.username,password:values.password});setTimeout(function(){navigate('/');},3000);}).catch(function(err){if(values.username.length<6){setFieldError(\"username\",\"username is not vaild, lenth should be more than 6 characters \");}if(values.username.length>12){setFieldError(\"username\",\"username is not vaild, lenth should be less than 12\");}if(err){setFieldError(reportError);}});},children:function children(_ref2){var errors=_ref2.errors,isSubmitting=_ref2.isSubmitting,ErrorMessage=_ref2.ErrorMessage;return/*#__PURE__*/_jsxs(Form,{className:\"\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"LabelForms\",children:\" Username \"}),/*#__PURE__*/_jsx(Field,{placeholder:\"USERNAME\",className:\"InputForm\",name:\"username\"}),/*#__PURE__*/_jsx(\"label\",{className:\"LabelForms\",children:\" Password \"}),/*#__PURE__*/_jsx(Field,{placeholder:\"PASSWORD\",className:\"InputForm\",name:\"password\"}),/*#__PURE__*/_jsx(\"button\",{className:\"buttonForm\",disabled:isSubmitting,children:\"Register\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"Errors\",children:[\" \",errors.username]}),/*#__PURE__*/_jsx(\"p\",{className:\"Errors\",children:errors.password})]});}}),registered?/*#__PURE__*/_jsx(\"p\",{className:\"Success\",children:\" You have been registered\"}):null]});}","map":{"version":3,"names":["ErrorMessage","Field","Form","Formik","useState","useLocation","useUser","registerService","Register","registered","setRegistered","navigate","login","username","password","values","errors","setFieldError","then","setTimeout","catch","err","length","reportError","isSubmitting"],"sources":["/Users/sebastianacosta/Bootcamp/giffy/src/components/register/index.js"],"sourcesContent":["import { ErrorMessage, Field, Form, Formik } from \"formik\";\nimport { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport useUser from \"../../hooks/useUser\";\nimport registerService from \"../../services/registerService\";\nimport \"./register.css\";\n\n\n\n \nexport default function Register() {\n  const [ registered, setRegistered] = useState(false)\n const [ , navigate] = useLocation()\n const {login} = useUser()\n  return (\n    <div className=\"RegisterPage\">\n      <h2> Register  </h2>\n      <Formik\n        initialValues={{ username: '', password: \"\" }}\n        validate={(values) => {\n          const errors = {};\n\n          if (values.username === '') {\n            errors.username = \"Required username\";\n          }\n          if (values.password === '') {\n            errors.password = \"Required password\";\n          }\n\n          return errors;\n        }}\n        onSubmit={(values, { setFieldError }) => {\n          return registerService(values).then(()=>\n          {setRegistered(true) \n\n            login({username:values.username, password:values.password})\n\n            setTimeout(()=>{\n              navigate('/')}, 3000)\n\n          }).catch((err) => {\n        \n\n        if(values.username.length < 6)\n            {\n            setFieldError(\"username\", \"username is not vaild, lenth should be more than 6 characters \");\n            }\n            if(values.username.length > 12){\n              setFieldError(\"username\", \"username is not vaild, lenth should be less than 12\");\n            }\n            if(err){\n              setFieldError(reportError)\n            }\n          });\n        }}\n      >\n        {({ errors, isSubmitting, ErrorMessage }) => (\n          <Form className=\"\">\n            \n            <label className=\"LabelForms\"> Username </label>\n            <Field placeholder=\"USERNAME\"  className=\"InputForm\"  name={\"username\"}></Field>\n         \n          <label className=\"LabelForms\"> Password </label>\n            <Field placeholder=\"PASSWORD\" className=\"InputForm\" name={\"password\"}></Field>\n            <button className=\"buttonForm\" disabled={isSubmitting}>\n              Register\n            </button>\n         \n    \n          <p className=\"Errors\"> {errors.username}</p>\n          <p className=\"Errors\">{errors.password}</p>\n          </Form>\n\n      \n        )}\n      </Formik>\n      {registered? <p className=\"Success\"> You have been registered</p>:null}\n    </div>\n  );\n}\n"],"mappings":"2HAAA,OAASA,YAAT,CAAuBC,KAAvB,CAA8BC,IAA9B,CAAoCC,MAApC,KAAkD,QAAlD,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,KAA4B,QAA5B,CACA,MAAOC,QAAP,KAAoB,qBAApB,CACA,MAAOC,gBAAP,KAA4B,gCAA5B,CACA,MAAO,gBAAP,C,wFAKA,cAAe,SAASC,SAAT,EAAoB,CACjC,cAAqCJ,QAAQ,CAAC,KAAD,CAA7C,wCAAQK,UAAR,eAAoBC,aAApB,eACD,iBAAsBL,WAAW,EAAjC,8CAAUM,QAAV,kBACA,aAAgBL,OAAO,EAAvB,CAAOM,KAAP,UAAOA,KAAP,CACC,mBACE,aAAK,SAAS,CAAC,cAAf,wBACE,mCADF,cAEE,KAAC,MAAD,EACE,aAAa,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAgBC,QAAQ,CAAE,EAA1B,CADjB,CAEE,QAAQ,CAAE,kBAACC,MAAD,CAAY,CACpB,GAAMC,OAAM,CAAG,EAAf,CAEA,GAAID,MAAM,CAACF,QAAP,GAAoB,EAAxB,CAA4B,CAC1BG,MAAM,CAACH,QAAP,CAAkB,mBAAlB,CACD,CACD,GAAIE,MAAM,CAACD,QAAP,GAAoB,EAAxB,CAA4B,CAC1BE,MAAM,CAACF,QAAP,CAAkB,mBAAlB,CACD,CAED,MAAOE,OAAP,CACD,CAbH,CAcE,QAAQ,CAAE,kBAACD,MAAD,MAA+B,IAApBE,cAAoB,MAApBA,aAAoB,CACvC,MAAOV,gBAAe,CAACQ,MAAD,CAAf,CAAwBG,IAAxB,CAA6B,UACpC,CAACR,aAAa,CAAC,IAAD,CAAb,CAECE,KAAK,CAAC,CAACC,QAAQ,CAACE,MAAM,CAACF,QAAjB,CAA2BC,QAAQ,CAACC,MAAM,CAACD,QAA3C,CAAD,CAAL,CAEAK,UAAU,CAAC,UAAI,CACbR,QAAQ,CAAC,GAAD,CAAR,CAAc,CADN,CACQ,IADR,CAAV,CAGD,CARM,EAQJS,KARI,CAQE,SAACC,GAAD,CAAS,CAGpB,GAAGN,MAAM,CAACF,QAAP,CAAgBS,MAAhB,CAAyB,CAA5B,CACI,CACAL,aAAa,CAAC,UAAD,CAAa,gEAAb,CAAb,CACC,CACD,GAAGF,MAAM,CAACF,QAAP,CAAgBS,MAAhB,CAAyB,EAA5B,CAA+B,CAC7BL,aAAa,CAAC,UAAD,CAAa,qDAAb,CAAb,CACD,CACD,GAAGI,GAAH,CAAO,CACLJ,aAAa,CAACM,WAAD,CAAb,CACD,CACF,CArBM,CAAP,CAsBD,CArCH,UAuCG,4BAAGP,OAAH,OAAGA,MAAH,CAAWQ,YAAX,OAAWA,YAAX,CAAyBxB,YAAzB,OAAyBA,YAAzB,oBACC,MAAC,IAAD,EAAM,SAAS,CAAC,EAAhB,wBAEE,cAAO,SAAS,CAAC,YAAjB,wBAFF,cAGE,KAAC,KAAD,EAAO,WAAW,CAAC,UAAnB,CAA+B,SAAS,CAAC,WAAzC,CAAsD,IAAI,CAAE,UAA5D,EAHF,cAKA,cAAO,SAAS,CAAC,YAAjB,wBALA,cAME,KAAC,KAAD,EAAO,WAAW,CAAC,UAAnB,CAA8B,SAAS,CAAC,WAAxC,CAAoD,IAAI,CAAE,UAA1D,EANF,cAOE,eAAQ,SAAS,CAAC,YAAlB,CAA+B,QAAQ,CAAEwB,YAAzC,sBAPF,cAYA,WAAG,SAAS,CAAC,QAAb,eAAwBR,MAAM,CAACH,QAA/B,GAZA,cAaA,UAAG,SAAS,CAAC,QAAb,UAAuBG,MAAM,CAACF,QAA9B,EAbA,GADD,EAvCH,EAFF,CA6DGL,UAAU,cAAE,UAAG,SAAS,CAAC,SAAb,uCAAF,CAAuD,IA7DpE,GADF,CAiED"},"metadata":{},"sourceType":"module"}