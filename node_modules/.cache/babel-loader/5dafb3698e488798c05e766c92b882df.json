{"ast":null,"code":"import _slicedToArray from\"/Users/sebastianacosta/Bootcamp/giffy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useLocation}from\"wouter\";import useUser from\"../hooks/useUser\";import Login from\"./Login\";import Modal from\"./modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Fav(_ref){var id=_ref.id,title=_ref.title,url=_ref.url;var _useUser=useUser(),isLogged=_useUser.isLogged,addfav=_useUser.addfav,favs=_useUser.favs,deletefav=_useUser.deletefav;var _useLocation=useLocation(false),_useLocation2=_slicedToArray(_useLocation,2),navigate=_useLocation2[1];var _useState=useState(),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var isFaved=favs.some(function(fav){if(fav===id)return true;else{console.log('aqui ',fav.gif_id,id);return fav.gif_id===id;}},[favs,id]);var _ref2=isFaved?[\"Remove Gif from fav\",\"❌\"]:[\"Add gif to favs\",\"❤️\"],_ref3=_slicedToArray(_ref2,2),label=_ref3[0],emoji=_ref3[1];var HandleFav=function HandleFav(){if(!isLogged)return setShowModal(true);isFaved?deletefav({id:id}):addfav({id:id,title:title,url:url});};var handleClose=function handleClose(){setShowModal(false);};var handleLogin=function handleLogin(){setShowModal(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:HandleFav,children:/*#__PURE__*/_jsx(\"span\",{role:\"img\",className:\"testingheart\",\"aria-label\":label,children:emoji})}),showModal?/*#__PURE__*/_jsx(Modal,{onClose:handleClose,children:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})}):null]});}","map":{"version":3,"names":["useEffect","useState","useLocation","useUser","Login","Modal","Fav","id","title","url","isLogged","addfav","favs","deletefav","navigate","showModal","setShowModal","isFaved","some","fav","console","log","gif_id","label","emoji","HandleFav","handleClose","handleLogin"],"sources":["/Users/sebastianacosta/Bootcamp/giffy/src/components/Fav.js"],"sourcesContent":["\nimport { useEffect, useState } from \"react\";\nimport { useLocation } from \"wouter\";\n\nimport useUser from \"../hooks/useUser\";\nimport Login from \"./Login\";\nimport Modal from \"./modal\";\n\n\nexport default  function  Fav({ id , title, url }) {\n  const { isLogged, addfav, favs ,deletefav} = useUser();\n\n  const [, navigate] = useLocation(false);\n\n  const [showModal, setShowModal ] = useState()\n\n\n\n\nconst  isFaved =  favs.some(fav => {\n\n if(fav === id) return true \n else{\n  console.log('aqui ', fav.gif_id , id )\n  return fav.gif_id === id\n }\n\n\n\n\n}, [favs, id])\n\n\n\n\n  let [label,emoji] =  isFaved\n  ? [\"Remove Gif from fav\", \"❌\"]\n  : [\"Add gif to favs\", \"❤️\"];\n\n\n  const HandleFav = () => {\n \n\n    if (!isLogged) return setShowModal(true);\n\n    isFaved? deletefav({id}):\n    addfav({ id, title, url  });\n  };\n\n\n  const handleClose = () => {\n    setShowModal(false)\n  }\n\n  const handleLogin = () => {\n    setShowModal(false)\n  }\n\n  return (\n    <>\n    <button onClick={HandleFav}>\n      <span role={\"img\"} className=\"testingheart\" aria-label={label}>\n        {emoji}\n      </span>\n    </button>\n    {(showModal  )? <Modal onClose={handleClose}><Login onLogin={handleLogin}/></Modal> : null}\n    </>\n  );\n}\n"],"mappings":"2HACA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,WAAT,KAA4B,QAA5B,CAEA,MAAOC,QAAP,KAAoB,kBAApB,CACA,MAAOC,MAAP,KAAkB,SAAlB,CACA,MAAOC,MAAP,KAAkB,SAAlB,C,6IAGA,cAAgB,SAAUC,IAAV,MAAmC,IAAnBC,GAAmB,MAAnBA,EAAmB,CAAdC,KAAc,MAAdA,KAAc,CAAPC,GAAO,MAAPA,GAAO,CACjD,aAA6CN,OAAO,EAApD,CAAQO,QAAR,UAAQA,QAAR,CAAkBC,MAAlB,UAAkBA,MAAlB,CAA0BC,IAA1B,UAA0BA,IAA1B,CAAgCC,SAAhC,UAAgCA,SAAhC,CAEA,iBAAqBX,WAAW,CAAC,KAAD,CAAhC,8CAASY,QAAT,kBAEA,cAAmCb,QAAQ,EAA3C,wCAAOc,SAAP,eAAkBC,YAAlB,eAKF,GAAOC,QAAO,CAAIL,IAAI,CAACM,IAAL,CAAU,SAAAC,GAAG,CAAI,CAElC,GAAGA,GAAG,GAAKZ,EAAX,CAAe,MAAO,KAAP,CAAf,IACI,CACHa,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBF,GAAG,CAACG,MAAzB,CAAkCf,EAAlC,EACA,MAAOY,IAAG,CAACG,MAAJ,GAAef,EAAtB,CACA,CAKD,CAXiB,CAWf,CAACK,IAAD,CAAOL,EAAP,CAXe,CAAlB,CAgBE,UAAqBU,OAAO,CAC1B,CAAC,qBAAD,CAAwB,GAAxB,CAD0B,CAE1B,CAAC,iBAAD,CAAoB,IAApB,CAFF,+BAAKM,KAAL,UAAWC,KAAX,UAKA,GAAMC,UAAS,CAAG,QAAZA,UAAY,EAAM,CAGtB,GAAI,CAACf,QAAL,CAAe,MAAOM,aAAY,CAAC,IAAD,CAAnB,CAEfC,OAAO,CAAEJ,SAAS,CAAC,CAACN,EAAE,CAAFA,EAAD,CAAD,CAAX,CACPI,MAAM,CAAC,CAAEJ,EAAE,CAAFA,EAAF,CAAMC,KAAK,CAALA,KAAN,CAAaC,GAAG,CAAHA,GAAb,CAAD,CADN,CAED,CAPD,CAUA,GAAMiB,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxBV,YAAY,CAAC,KAAD,CAAZ,CACD,CAFD,CAIA,GAAMW,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxBX,YAAY,CAAC,KAAD,CAAZ,CACD,CAFD,CAIA,mBACE,wCACA,eAAQ,OAAO,CAAES,SAAjB,uBACE,aAAM,IAAI,CAAE,KAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,aAAYF,KAAxD,UACGC,KADH,EADF,EADA,CAMET,SAAD,cAAe,KAAC,KAAD,EAAO,OAAO,CAAEW,WAAhB,uBAA6B,KAAC,KAAD,EAAO,OAAO,CAAEC,WAAhB,EAA7B,EAAf,CAAqF,IANtF,GADF,CAUD"},"metadata":{},"sourceType":"module"}