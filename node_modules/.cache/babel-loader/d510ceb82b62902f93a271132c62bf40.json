{"ast":null,"code":"import locationHook from \"./use-location.js\";\nimport makeMatcher from \"./matcher.js\";\nimport { useRef, useLayoutEffect, useContext, useCallback, createContext, isValidElement, cloneElement, createElement as h, Fragment } from \"./react-deps.js\";\n/*\n * Part 1, Hooks API: useRouter, useRoute and useLocation\n */\n// one of the coolest features of `createContext`:\n// when no value is provided — default object is used.\n// allows us to use the router context as a global ref to store\n// the implicitly created router (see `useRouter` below)\n\nconst RouterCtx = createContext({});\n\nconst buildRouter = function () {\n  let {\n    hook = locationHook,\n    base = \"\",\n    matcher = makeMatcher()\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    hook,\n    base,\n    matcher\n  };\n};\n\nexport const useRouter = () => {\n  const globalRef = useContext(RouterCtx); // either obtain the router from the outer context (provided by the\n  // `<Router /> component) or create an implicit one on demand.\n\n  return globalRef.v || (globalRef.v = buildRouter());\n};\nexport const useLocation = () => {\n  const router = useRouter();\n  return router.hook(router);\n};\nexport const useRoute = pattern => {\n  const [path] = useLocation();\n  return useRouter().matcher(pattern, path);\n}; // internal hook used by Link and Redirect in order to perform navigation\n\nconst useNavigate = options => {\n  const navRef = useRef();\n  const [, navigate] = useLocation();\n\n  navRef.current = () => navigate(options.to || options.href, options);\n\n  return navRef;\n};\n/*\n * Part 2, Low Carb Router API: Router, Route, Link, Switch\n */\n\n\nexport const Router = props => {\n  const ref = useRef(); // this little trick allows to avoid having unnecessary\n  // calls to potentially expensive `buildRouter` method.\n  // https://reactjs.org/docs/hooks-faq.html#how-to-create-expensive-objects-lazily\n\n  const value = ref.current || (ref.current = {\n    v: buildRouter(props)\n  });\n  return h(RouterCtx.Provider, {\n    value,\n    children: props.children\n  });\n};\nexport const Route = _ref => {\n  let {\n    path,\n    match,\n    component,\n    children\n  } = _ref;\n  const useRouteMatch = useRoute(path); // `props.match` is present - Route is controlled by the Switch\n\n  const [matches, params] = match || useRouteMatch;\n  if (!matches) return null; // React-Router style `component` prop\n\n  if (component) return h(component, {\n    params\n  }); // support render prop or plain children\n\n  return typeof children === \"function\" ? children(params) : children;\n};\nexport const Link = props => {\n  const navRef = useNavigate(props);\n  const {\n    base\n  } = useRouter();\n  let {\n    to,\n    href = to,\n    children,\n    onClick\n  } = props;\n  const handleClick = useCallback(event => {\n    // ignores the navigation when clicked using right mouse button or\n    // by holding a special modifier key: ctrl, command, win, alt, shift\n    if (event.ctrlKey || event.metaKey || event.altKey || event.shiftKey || event.button !== 0) return;\n    event.preventDefault();\n    navRef.current();\n    onClick && onClick(event);\n  }, // navRef is a ref so it never changes\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [onClick]); // wraps children in `a` if needed\n\n  const extraProps = {\n    // handle nested routers and absolute paths\n    href: href[0] === \"~\" ? href.slice(1) : base + href,\n    onClick: handleClick,\n    to: null\n  };\n  const jsx = isValidElement(children) ? children : h(\"a\", props);\n  return cloneElement(jsx, extraProps);\n};\n\nconst flattenChildren = children => {\n  return Array.isArray(children) ? [].concat(...children.map(c => c && c.type === Fragment ? flattenChildren(c.props.children) : flattenChildren(c))) : [children];\n};\n\nexport const Switch = _ref2 => {\n  let {\n    children,\n    location\n  } = _ref2;\n  const {\n    matcher\n  } = useRouter();\n  const [originalLocation] = useLocation();\n\n  for (const element of flattenChildren(children)) {\n    let match = 0;\n    if (isValidElement(element) && // we don't require an element to be of type Route,\n    // but we do require it to contain a truthy `path` prop.\n    // this allows to use different components that wrap Route\n    // inside of a switch, for example <AnimatedRoute />.\n    (match = element.props.path ? matcher(element.props.path, location || originalLocation) : [true, {}])[0]) return cloneElement(element, {\n      match\n    });\n  }\n\n  return null;\n};\nexport const Redirect = props => {\n  const navRef = useNavigate(props); // empty array means running the effect once, navRef is a ref so it never changes\n\n  useLayoutEffect(() => {\n    navRef.current();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return null;\n};\nexport default useRoute;","map":{"version":3,"names":["locationHook","makeMatcher","useRef","useLayoutEffect","useContext","useCallback","createContext","isValidElement","cloneElement","createElement","h","Fragment","RouterCtx","buildRouter","hook","base","matcher","useRouter","globalRef","v","useLocation","router","useRoute","pattern","path","useNavigate","options","navRef","navigate","current","to","href","Router","props","ref","value","Provider","children","Route","match","component","useRouteMatch","matches","params","Link","onClick","handleClick","event","ctrlKey","metaKey","altKey","shiftKey","button","preventDefault","extraProps","slice","jsx","flattenChildren","Array","isArray","concat","map","c","type","Switch","location","originalLocation","element","Redirect"],"sources":["/Users/sebastianacosta/Bootcamp/giffy/node_modules/wouter/index.js"],"sourcesContent":["import locationHook from \"./use-location.js\";\nimport makeMatcher from \"./matcher.js\";\n\nimport {\n  useRef,\n  useLayoutEffect,\n  useContext,\n  useCallback,\n  createContext,\n  isValidElement,\n  cloneElement,\n  createElement as h,\n  Fragment,\n} from \"./react-deps.js\";\n\n/*\n * Part 1, Hooks API: useRouter, useRoute and useLocation\n */\n\n// one of the coolest features of `createContext`:\n// when no value is provided — default object is used.\n// allows us to use the router context as a global ref to store\n// the implicitly created router (see `useRouter` below)\nconst RouterCtx = createContext({});\n\nconst buildRouter = ({\n  hook = locationHook,\n  base = \"\",\n  matcher = makeMatcher(),\n} = {}) => ({ hook, base, matcher });\n\nexport const useRouter = () => {\n  const globalRef = useContext(RouterCtx);\n\n  // either obtain the router from the outer context (provided by the\n  // `<Router /> component) or create an implicit one on demand.\n  return globalRef.v || (globalRef.v = buildRouter());\n};\n\nexport const useLocation = () => {\n  const router = useRouter();\n  return router.hook(router);\n};\n\nexport const useRoute = (pattern) => {\n  const [path] = useLocation();\n  return useRouter().matcher(pattern, path);\n};\n\n// internal hook used by Link and Redirect in order to perform navigation\nconst useNavigate = (options) => {\n  const navRef = useRef();\n  const [, navigate] = useLocation();\n\n  navRef.current = () => navigate(options.to || options.href, options);\n  return navRef;\n};\n\n/*\n * Part 2, Low Carb Router API: Router, Route, Link, Switch\n */\n\nexport const Router = (props) => {\n  const ref = useRef();\n\n  // this little trick allows to avoid having unnecessary\n  // calls to potentially expensive `buildRouter` method.\n  // https://reactjs.org/docs/hooks-faq.html#how-to-create-expensive-objects-lazily\n  const value = ref.current || (ref.current = { v: buildRouter(props) });\n\n  return h(RouterCtx.Provider, {\n    value,\n    children: props.children,\n  });\n};\n\nexport const Route = ({ path, match, component, children }) => {\n  const useRouteMatch = useRoute(path);\n\n  // `props.match` is present - Route is controlled by the Switch\n  const [matches, params] = match || useRouteMatch;\n\n  if (!matches) return null;\n\n  // React-Router style `component` prop\n  if (component) return h(component, { params });\n\n  // support render prop or plain children\n  return typeof children === \"function\" ? children(params) : children;\n};\n\nexport const Link = (props) => {\n  const navRef = useNavigate(props);\n  const { base } = useRouter();\n\n  let { to, href = to, children, onClick } = props;\n\n  const handleClick = useCallback(\n    (event) => {\n      // ignores the navigation when clicked using right mouse button or\n      // by holding a special modifier key: ctrl, command, win, alt, shift\n      if (\n        event.ctrlKey ||\n        event.metaKey ||\n        event.altKey ||\n        event.shiftKey ||\n        event.button !== 0\n      )\n        return;\n\n      event.preventDefault();\n      navRef.current();\n      onClick && onClick(event);\n    },\n    // navRef is a ref so it never changes\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [onClick]\n  );\n\n  // wraps children in `a` if needed\n  const extraProps = {\n    // handle nested routers and absolute paths\n    href: href[0] === \"~\" ? href.slice(1) : base + href,\n    onClick: handleClick,\n    to: null,\n  };\n  const jsx = isValidElement(children) ? children : h(\"a\", props);\n\n  return cloneElement(jsx, extraProps);\n};\n\nconst flattenChildren = (children) => {\n  return Array.isArray(children)\n    ? [].concat(\n        ...children.map((c) =>\n          c && c.type === Fragment\n            ? flattenChildren(c.props.children)\n            : flattenChildren(c)\n        )\n      )\n    : [children];\n};\n\nexport const Switch = ({ children, location }) => {\n  const { matcher } = useRouter();\n  const [originalLocation] = useLocation();\n\n  for (const element of flattenChildren(children)) {\n    let match = 0;\n\n    if (\n      isValidElement(element) &&\n      // we don't require an element to be of type Route,\n      // but we do require it to contain a truthy `path` prop.\n      // this allows to use different components that wrap Route\n      // inside of a switch, for example <AnimatedRoute />.\n      (match = element.props.path\n        ? matcher(element.props.path, location || originalLocation)\n        : [true, {}])[0]\n    )\n      return cloneElement(element, { match });\n  }\n\n  return null;\n};\n\nexport const Redirect = (props) => {\n  const navRef = useNavigate(props);\n\n  // empty array means running the effect once, navRef is a ref so it never changes\n  useLayoutEffect(() => {\n    navRef.current();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return null;\n};\n\nexport default useRoute;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}