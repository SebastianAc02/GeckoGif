{"ast":null,"code":"import _slicedToArray from\"/Users/sebastianacosta/Bootcamp/giffy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import React from\"react\";import{useLocation}from\"wouter\";import useUser from\"../../hooks/useUser\";import\"./Login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(_ref){var onLogin=_ref.onLogin;var _useLocation=useLocation(),_useLocation2=_slicedToArray(_useLocation,2),navigate=_useLocation2[1];var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useUser=useUser(),isLogingLoading=_useUser.isLogingLoading,login=_useUser.login,state=_useUser.state,setState=_useUser.setState,isLogged=_useUser.isLogged;useEffect(function(){if(isLogged===true){navigate(\"/\");onLogin&&onLogin();}},[isLogged,navigate]);var OnSubmit=function OnSubmit(event){event.preventDefault();login({username:username,password:password});};var setError=function setError(){setTimeout(function(){setState({error:false});},2000);};return/*#__PURE__*/_jsxs(\"div\",{className:\"LoginPage\",children:[isLogingLoading&&/*#__PURE__*/_jsx(\"h1\",{className:\"Success\",children:\" Checking credentials\"}),!isLogingLoading&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:OnSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"LoginTitle\",children:\" Login \"}),/*#__PURE__*/_jsxs(\"label\",{className:\"LabelForms\",children:[\" Username  \",/*#__PURE__*/_jsx(\"input\",{className:\"InputForm onPage\",onChange:function onChange(e){setUserName(e.target.value);},type:\"text\",placeholder:\"USERNAME\",value:username})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"LabelForms\",children:[\"password \",/*#__PURE__*/_jsx(\"input\",{className:\"InputForm\",onChange:function onChange(e){setPassword(e.target.value);},type:\"password\",placeholder:\"PASSWORD\",value:password})]}),/*#__PURE__*/_jsx(\"button\",{id:\"Test-Button-Login\",className:\"buttonForm\",children:\" Login \"}),state.error&&/*#__PURE__*/_jsxs(_Fragment,{children:[\"  \",/*#__PURE__*/_jsx(\"p\",{className:\"Errors\",children:\" Credentials are wrong \"}),\" \",setError(),\"  \"]})]})]});}","map":{"version":3,"names":["useEffect","useState","React","useLocation","useUser","Login","onLogin","navigate","username","setUserName","password","setPassword","isLogingLoading","login","state","setState","isLogged","OnSubmit","event","preventDefault","setError","setTimeout","error","e","target","value"],"sources":["/Users/sebastianacosta/Bootcamp/giffy/src/components/Login/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport React from \"react\";\nimport { useLocation } from \"wouter\";\nimport useUser from \"../../hooks/useUser\";\nimport \"./Login.css\"\n\nexport default function Login({onLogin}) {\n  const [, navigate] = useLocation();\n\n  const [username, setUserName] = useState(\"\");\n\n  const [password, setPassword] = useState(\"\");\n\n\n\n  const {  isLogingLoading    ,    login   , state,  setState,  isLogged } = useUser();\n\n\n\n  useEffect(() => {\n    if (isLogged === true)\n    { navigate(\"/\")\n     onLogin && onLogin()}\n\n  }, [isLogged, navigate]);\n\n  const OnSubmit = (event) => {\n    event.preventDefault();\n    login({username, password})\n    \n  };\n\n const setError = ()=>{\n\n  setTimeout(()=>{\n    setState({error:false})\n  }, 2000)\n }\n\n  return (\n    < div className=\"LoginPage\">\n    {(isLogingLoading)&& <h1 className=\"Success\"> Checking credentials</h1>}\n    \n\n{!isLogingLoading&&\n     ( \n     <form onSubmit={OnSubmit} >\n      <h1 className=\"LoginTitle\"> Login </h1>\n        <label className=\"LabelForms\" > Username  <input className=\"InputForm onPage\"\n          onChange={(e) => {\n            setUserName(e.target.value);\n          }}\n          type=\"text\"\n          placeholder=\"USERNAME\"\n          value={username}\n        />\n        </label>\n        \n        <label className=\"LabelForms\">password <input className=\"InputForm\"\n          onChange={(e) => {\n            setPassword(e.target.value);\n          }}\n          type=\"password\"\n          placeholder=\"PASSWORD\"\n          value={password}\n        /></label>\n        \n        <button id=\"Test-Button-Login\" className=\"buttonForm\"> Login </button>\n        {state.error &&  <>  <p className=\"Errors\"> Credentials are wrong </p> {setError()}  </> }\n      </form>\n)}\n    </div>\n  );\n}\n"],"mappings":"2HAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,QAA5B,CACA,MAAOC,QAAP,KAAoB,qBAApB,CACA,MAAO,aAAP,C,6IAEA,cAAe,SAASC,MAAT,MAA0B,IAAVC,QAAU,MAAVA,OAAU,CACvC,iBAAqBH,WAAW,EAAhC,8CAASI,QAAT,kBAEA,cAAgCN,QAAQ,CAAC,EAAD,CAAxC,wCAAOO,QAAP,eAAiBC,WAAjB,eAEA,eAAgCR,QAAQ,CAAC,EAAD,CAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eAIA,aAA2EP,OAAO,EAAlF,CAASQ,eAAT,UAASA,eAAT,CAAiCC,KAAjC,UAAiCA,KAAjC,CAA2CC,KAA3C,UAA2CA,KAA3C,CAAmDC,QAAnD,UAAmDA,QAAnD,CAA8DC,QAA9D,UAA8DA,QAA9D,CAIAhB,SAAS,CAAC,UAAM,CACd,GAAIgB,QAAQ,GAAK,IAAjB,CACA,CAAET,QAAQ,CAAC,GAAD,CAAR,CACDD,OAAO,EAAIA,OAAO,EAAlB,CAAqB,CAEvB,CALQ,CAKN,CAACU,QAAD,CAAWT,QAAX,CALM,CAAT,CAOA,GAAMU,SAAQ,CAAG,QAAXA,SAAW,CAACC,KAAD,CAAW,CAC1BA,KAAK,CAACC,cAAN,GACAN,KAAK,CAAC,CAACL,QAAQ,CAARA,QAAD,CAAWE,QAAQ,CAARA,QAAX,CAAD,CAAL,CAED,CAJD,CAMD,GAAMU,SAAQ,CAAG,QAAXA,SAAW,EAAI,CAEpBC,UAAU,CAAC,UAAI,CACbN,QAAQ,CAAC,CAACO,KAAK,CAAC,KAAP,CAAD,CAAR,CACD,CAFS,CAEP,IAFO,CAAV,CAGA,CALD,CAOC,mBACE,aAAM,SAAS,CAAC,WAAhB,WACEV,eAAD,eAAoB,WAAI,SAAS,CAAC,SAAd,mCADrB,CAIH,CAACA,eAAD,eAEI,cAAM,QAAQ,CAAEK,QAAhB,wBACC,WAAI,SAAS,CAAC,YAAd,qBADD,cAEG,eAAO,SAAS,CAAC,YAAjB,sCAA0C,cAAO,SAAS,CAAC,kBAAjB,CACxC,QAAQ,CAAE,kBAACM,CAAD,CAAO,CACfd,WAAW,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACD,CAHuC,CAIxC,IAAI,CAAC,MAJmC,CAKxC,WAAW,CAAC,UAL4B,CAMxC,KAAK,CAAEjB,QANiC,EAA1C,GAFH,cAYG,eAAO,SAAS,CAAC,YAAjB,oCAAuC,cAAO,SAAS,CAAC,WAAjB,CACrC,QAAQ,CAAE,kBAACe,CAAD,CAAO,CACfZ,WAAW,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACD,CAHoC,CAIrC,IAAI,CAAC,UAJgC,CAKrC,WAAW,CAAC,UALyB,CAMrC,KAAK,CAAEf,QAN8B,EAAvC,GAZH,cAqBG,eAAQ,EAAE,CAAC,mBAAX,CAA+B,SAAS,CAAC,YAAzC,qBArBH,CAsBII,KAAK,CAACQ,KAAN,eAAgB,6CAAI,UAAG,SAAS,CAAC,QAAb,qCAAJ,KAAuDF,QAAQ,EAA/D,QAtBpB,GAND,GADF,CAkCD"},"metadata":{},"sourceType":"module"}